<html><head>
<title>YaST2 modules testsuite -- Testing</title>
</head><body bgcolor=#ffffff>
<!-- Author: Michal Svec <msvec@suse.cz> -->
<!-- $Id$ -->
<a name="top"><p>
<h1>YaST2 modules testsuite -- Testing</h1>
<hr>

<!-- Testing -->
<p><a name="main"><u><h2>Testing</h2></u>

Presume you have already prepared your testsuite acording to
<a href="prepare.html">preparation chapter</a>.

<p>
You should now have <tt>testsuite/</tt> directory with <tt>tests/</tt>
subdir and <tt>Makefile, Makefile.am and Makefile.in</tt>.

<p>
Also presume you have already some tests created.
If not, take a look at <a href="create.html">creation chapter</a>.

<p>
For instance, there is a <tt>Test1.ycp</tt> test case in the
<tt>testsuite/tests/</tt> directory.

<p>
<h3>Running tests</h3>

Change dir to the testsuite directory and run
<pre>
    bash$ make check
</pre>

This command produce a lot of output and some files. During a first
run, it says "test failed", but it doesn't matter as we just started
to create the testsuite and it's now a work in progress. Interesting
files are those "tmp.*". There is a normal (tmp.out.*) and error
(tmp.err.*) output of the real check. 

<p>
After creation of Test1.ycp and make check, there should be a
tmp.out.Test1 and tmp.err.Test1 files. The error file should be
empty (no errors) and in the output file there is a test output.

<p>
<h3>Updating output</h3>

Take a look at the output files, if they contains the right output
(no errors, right results) and copy them to tests/Test1.out
(tmp.out.Test1) and tests/Test1.err (tmp.err.Test1).

<pre>
    bash$ cp tmp.out.Test1 tests/Test1.out
    bash$ touch tests/Test1.err
</pre>

<p>
Now, you have a (one) testsuite ready. The output files will be used
during the next check run for comparison with real output to decide
if the test passed.

<p>
<i>Note: as you may see, the test is based on a comparison of a given
and a real outputs of the test run</i>

<p>
<h3>Finish</h3>

Now, the testsuite should be ready. Run the check once more to ensure
everything went OK.

<pre>
    bash$ make check
</pre>

</body></html>
